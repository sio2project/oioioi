{% extends "base-with-menu.html" %}
{% load i18n %}
{% load pagination_tags %}

{% block title %}{% trans "Rules" %}{% endblock %}

{% block main-content %}
<h1>{% trans "Rules" %}</h1>
<ul class="list-group list-group-light">
    {% if scoring_type %}
        {% blocktrans %}
            <li class="list-group-item">The scoring and contest type is "{{ scoring_type }}".</li>
        {% endblocktrans %}
    {% endif %}
    {% if no_of_rounds %}
        {% blocktrans with number=no_of_rounds %}
            <li class="list-group-item">The contest has {{ number }} round{{ plural}}.</li>
        {% endblocktrans %}
    {% endif %}
    {% if contest_start_date and contest_end_date %}
        {% blocktrans %}
            <li class="list-group-item">The contest starts on {{ contest_start_date }} and ends on {{ contest_end_date }}.</li>
        {% endblocktrans %}
    {% elif contest_start_date %}
        {% blocktrans %}
            <li class="list-group-item">The contest starts on {{ contest_start_date }}.</li>
        {% endblocktrans %}
    {% endif %}
    {% if submission_limit|length > 1 %}
        {% blocktrans with submission_limit|join:", " as limit %}
            <li class="list-group-item">There is a limit of {{ limit }} submissions, depending on a problem.</li>
        {% endblocktrans %}
    {% elif submission_limit %}
        {% blocktrans with limit=submission_limit.0 %}
            <li class="list-group-item">There is a limit of {{ limit }} submissions for each problem.</li>
        {% endblocktrans %}
    {% else %}
        {% blocktrans %}
            <li class="list-group-item">There are no submission limits in this contest.</li>
        {% endblocktrans %}
    {% endif %}
    {% for round in results_visibility %}
        {% if round.results != round.ranking %}
            {% blocktrans with round.name as name and round.results as results and round.ranking as public %}
                <li class="list-group-item">In round {{ name }}, your results will be visible {{ results }} and the public ranking will be visible {{ public }}.</li>
            {% endblocktrans %}
        {% else %}
            {% blocktrans with round.name as name and round.results as results %}
                <li class="list-group-item">In round {{ name }}, your results as well as public ranking will be visible {{ results }}.</li>
            {% endblocktrans %}
        {% endif %}
    {% endfor %}
</ul>
{% endblock %}